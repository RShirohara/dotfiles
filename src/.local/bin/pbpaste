#!/usr/bin/env bash
# System clipboard integration
#
# Support Platforms:
# - X11 (xclip)
# - Wayland (wl-copy)
# - WSL (powershell.exe)
# - Termux (termux-clipboard-get)
#
# Usage:
#   pbpaste                 - write clipbeard's content to stdout.
#   pbpaste | <command>     - paste contents and pipes to process.

if [[ "${DISPLAY:-}" && -x $(command -v xclip) ]]; then
    xclip -out -selection clipboard
elif [[ "${WAYLAND_DISPLAY:-}" && -x $(command -v wl-paste) ]]; then
    wl-paste
elif [[ $OSTYPE == linux* && $(uname -r) == *[Mm]icrosoft* ]]; then
    powershell.exe -noprofile -command Get-Clipboard
elif [[ $OSTYPE == linux-android* && -x $(command -v termux-clipboard-get) ]]; then
    termux-clipboard-get
fi
